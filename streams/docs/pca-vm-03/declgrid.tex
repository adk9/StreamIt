\newcommand{\lefttab}[1]{\begin{minipage}{0.4in}\begin{center}#1\end{center}\end{minipage}}
\begin{figure}[t]
\begin{tabular}{c|c|c|c}
~ &
Out Of Order &
In Order &
Random Access
\\ \hline
\lefttab{Input}
&
\begin{minipage}{2.1in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IStreamOutOfOrder {
public:
  IStreamOutOfOrder(StreamBuffer<T> &s);
  T pop();
  boolean canPop(int n);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.6in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IStream : 
      IStreamOutOfOrder<T> {
public:
  IStream(StreamBuffer<T> &s);
  T peek(int index);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IStreamRandom {
  IStreamRandom(StreamBuffer<T> &s);
  T read(int index);
}


  \end{verbatim}
\end{minipage}
\\ \hline
\lefttab{Output}
&
\begin{minipage}{2.1in}
  \scriptsize
  \begin{verbatim}

template <class T>
class OStreamOutOfOrder {
public:
  OStreamOutOfOrder(StreamBuffer<T> &s);
  void push(T& val);
  boolean canPush(int n);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.6in}
  \scriptsize
  \begin{verbatim}

template <class T>
class OStream : 
      OStreamOutOfOrder<T> {
public:
  OStream(StreamBuffer<T> &s);
  T poke(int index, T &val);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class OStreamRandom {
public:
  OStreamRandom(StreamBuffer<T> &s);
  void write(int index, T &val);
}

  \end{verbatim}
\end{minipage}
\\ \hline
\lefttab{Input \\ and \\ Output}
&
\begin{minipage}{2.1in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IOStreamOutOfOrder : 
       IStreamOutOfOrder<T>, 
       OStreamOutOfOrder<T> {
public:
  IOStreamOutOfOrder(StreamBuffer<T> &s);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.6in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IOStream : 
       IStream<T>, 
       OStream<T> {
public:
  IOStream(StreamBuffer<T> &s);
}
  \end{verbatim}
\end{minipage}
&
\begin{minipage}{1.8in}
  \scriptsize
  \begin{verbatim}

template <class T>
class IOStreamRandom : 
       IStreamRandom<T>, 
       OStreamRandom<T> {
public:
  IOStreamRandom(StreamBuffer<T> &s);
}
  \end{verbatim}
\end{minipage}
\end{tabular}
\caption{Class declarations for stream objects.\protect\label{fig:declgrid}}
\end{figure}