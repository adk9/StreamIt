void->void pipeline Fib {
    add FeedbackLoop {
	join RoundRobin(0, 1);
	body PeekAdd();
	split Duplicate();

	for (int i=0; i<2; i++) {
	  enqueue i;
	}
    }
    add IntPrinter();
}

int->int filter PeekAdd {
    work push 1 pop 1 peek 2 {
	push(peek(1) + pop());
    }
}

int->void filter IntPrinter {
    work pop 1 {
	System.out.println(pop());
    }
}
